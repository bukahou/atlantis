---
title: 微服务
description: 微服务架构设计、服务治理与分布式系统模式
keyPoints:
  - 服务拆分与边界划分
  - 服务发现与注册
  - 熔断降级与容错
  - 分布式事务处理
relatedTopics:
  - 容器编排
  - 服务网格
  - 可观测性
---

# 微服务知识体系

## 核心概念

微服务架构将应用拆分为一组小型、独立部署的服务，每个服务围绕特定业务能力构建。

### 架构对比

```
单体架构 vs 微服务架构
┌─────────────────┐     ┌────┐ ┌────┐ ┌────┐
│                 │     │用户│ │订单│ │支付│
│     单体应用    │  →  │服务│ │服务│ │服务│
│                 │     └────┘ └────┘ └────┘
│  用户+订单+支付  │        ↓     ↓     ↓
│                 │     ┌────┐ ┌────┐ ┌────┐
└─────────────────┘     │ DB │ │ DB │ │ DB │
                        └────┘ └────┘ └────┘

微服务特点
┌─────────────────────────────────────────┐
│  单一职责  │  每个服务专注一个业务域    │
├────────────┼────────────────────────────┤
│  独立部署  │  服务可独立发布更新        │
├────────────┼────────────────────────────┤
│  技术多样  │  不同服务可用不同技术栈    │
├────────────┼────────────────────────────┤
│  故障隔离  │  单个服务故障不影响整体    │
└────────────┴────────────────────────────┘
```

## 学习路径

### 1. 服务设计

- **DDD** - 领域驱动设计
- **边界划分** - 限界上下文
- **通信模式** - 同步 vs 异步

### 2. 服务治理

- **服务发现** - Consul, etcd, Nacos
- **负载均衡** - 客户端 vs 服务端
- **API 网关** - 统一入口

### 3. 容错设计

- **熔断器** - Circuit Breaker
- **重试机制** - 指数退避
- **限流降级** - 保护系统

## 关键技能

| 技能领域 | 核心内容 | 应用场景 |
|---------|---------|---------|
| 服务拆分 | DDD、边界上下文 | 架构设计 |
| 服务通信 | REST、gRPC、消息队列 | 集成 |
| 数据管理 | Saga、最终一致性 | 事务 |
| 可观测性 | 链路追踪、日志、指标 | 运维 |

## 最佳实践

1. **渐进拆分** - 从单体逐步演进
2. **自动化** - CI/CD 流水线
3. **监控优先** - 完善的可观测性
4. **容错设计** - 设计失败场景

---
title: 数据建模
description: 数据库设计、规范化、索引策略与分片方案
keyPoints:
  - 规范化与反规范化
  - 索引设计原则
  - 分库分表策略
  - 数据迁移方案
relatedTopics:
  - 关系型数据库
  - 分布式数据库
  - 性能优化
---

# 数据建模知识体系

## 核心概念

数据建模是设计数据结构和关系的过程，直接影响系统的性能和可维护性。

### 建模层次

```
数据建模层次
┌─────────────────────────────────────────┐
│  概念模型   │  业务实体与关系          │
│             │  ER 图、领域模型          │
├─────────────┼───────────────────────────┤
│  逻辑模型   │  表结构、字段定义        │
│             │  规范化、约束            │
├─────────────┼───────────────────────────┤
│  物理模型   │  索引、分区、存储引擎    │
│             │  性能优化                │
└─────────────┴───────────────────────────┘

规范化等级
1NF → 2NF → 3NF → BCNF
 ↓     ↓     ↓      ↓
原子值 消除  消除   消除
      部分  传递   主属性
      依赖  依赖   对候选键依赖
```

## 学习路径

### 1. 规范化设计

- **范式理论** - 1NF 到 BCNF
- **实体关系** - 一对一、一对多、多对多
- **反规范化** - 性能 vs 一致性权衡

### 2. 索引设计

- **索引类型** - B+Tree、Hash、全文
- **设计原则** - 选择性、覆盖、最左前缀
- **优化策略** - 执行计划分析

### 3. 分布式设计

- **分库分表** - 垂直拆分、水平拆分
- **分片策略** - 范围、哈希、一致性哈希
- **全局 ID** - 雪花算法、号段模式

## 关键技能

| 技能领域 | 核心内容 | 应用场景 |
|---------|---------|---------|
| ER 设计 | 实体关系图 | 需求分析 |
| 表设计 | 字段、约束 | 开发实现 |
| 索引优化 | 执行计划 | 性能调优 |
| 分片设计 | 分片键选择 | 大规模数据 |

## 最佳实践

1. **适度规范化** - 不过度追求范式
2. **预留扩展** - 考虑未来变化
3. **索引适度** - 权衡读写性能
4. **分片预判** - 提前规划分片策略

---
title: NoSQL 数据库
description: MongoDB、Redis 与 Elasticsearch 非关系型数据库
keyPoints:
  - 文档型、键值型、搜索引擎
  - CAP 理论与一致性选择
  - 数据模型设计
  - 集群与分片
relatedTopics:
  - 缓存策略
  - 全文搜索
  - 分布式系统
---

# NoSQL 数据库知识体系

## 核心概念

NoSQL 数据库放弃部分关系型特性，换取更好的扩展性和灵活性。

### NoSQL 类型

```
NoSQL 分类
┌─────────────────────────────────────────┐
│  键值型     │  Redis, Memcached        │
│             │  简单快速，缓存场景       │
├─────────────┼───────────────────────────┤
│  文档型     │  MongoDB, CouchDB        │
│             │  灵活 Schema，嵌套数据    │
├─────────────┼───────────────────────────┤
│  列族型     │  HBase, Cassandra        │
│             │  大数据，高写入           │
├─────────────┼───────────────────────────┤
│  搜索引擎   │  Elasticsearch           │
│             │  全文搜索，日志分析       │
└─────────────┴───────────────────────────┘

CAP 理论
    Consistency (一致性)
           /\
          /  \
         /    \
        /  选2  \
       /________\
  Availability   Partition
  (可用性)       Tolerance
                 (分区容错)
```

## 学习路径

### MongoDB

- **文档模型** - BSON、嵌套文档
- **查询语法** - CRUD、聚合管道
- **索引** - 单字段、复合、地理索引
- **集群** - 副本集、分片

### Redis

- **数据结构** - String, Hash, List, Set, ZSet
- **持久化** - RDB、AOF
- **高可用** - 主从、哨兵、Cluster
- **应用** - 缓存、分布式锁、消息

### Elasticsearch

- **倒排索引** - 全文搜索原理
- **映射** - 字段类型定义
- **查询 DSL** - 复杂查询
- **聚合** - 数据分析

## 选型指南

| 场景 | 推荐方案 | 原因 |
|-----|---------|------|
| 缓存 | Redis | 高性能、丰富数据结构 |
| 文档存储 | MongoDB | 灵活 Schema |
| 全文搜索 | Elasticsearch | 倒排索引 |
| 会话存储 | Redis | 快速读写 |

## 最佳实践

1. **选型匹配** - 根据场景选择合适类型
2. **数据建模** - 适应 NoSQL 特性
3. **一致性选择** - 根据业务需求权衡
4. **监控运维** - 集群状态监控

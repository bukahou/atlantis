---
title: 監視アラート
description: Prometheus、Grafana とログシステムの可観測性実践
keyPoints:
  - メトリクス収集とストレージ
  - 可視化ダッシュボード
  - ログ集約分析
  - アラートルール設定
relatedTopics:
  - 分散トレーシング
  - SRE 実践
  - 障害調査
---

# 監視アラート知識体系

## 核心概念

可観測性はメトリクス、ログ、トレースを含み、システム安定性を保証する重要な能力です。

### 可観測性三本柱

```
可観測性三本柱
┌─────────────────────────────────────────┐
│  Metrics    │  メトリクス、システム状態を数値化 │
│  (指標)     │  CPU、メモリ、QPS、レイテンシ   │
├─────────────┼───────────────────────────┤
│  Logs       │  ログ、詳細なイベント記録     │
│  (ログ)     │  エラー情報、デバッグログ     │
├─────────────┼───────────────────────────┤
│  Traces     │  トレース、リクエストチェーン  │
│  (追跡)     │  クロスサービス呼び出し関係   │
└─────────────┴───────────────────────────┘

監視アーキテクチャ
┌────────────┐     ┌────────────┐
│ アプリサービス │────→│ Prometheus │
│  Exporter  │     │  (ストレージ) │
└────────────┘     └─────┬──────┘
                         │
┌────────────┐     ┌─────▼──────┐
│ アプリログ   │────→│  Grafana   │
│   (ELK)    │     │  (表示)     │
└────────────┘     └─────┬──────┘
                         │
                   ┌─────▼──────┐
                   │ AlertManager│
                   │  (アラート)  │
                   └────────────┘
```

## 学習パス

### 1. メトリクス監視

- **Prometheus** - メトリクス収集、PromQL
- **Exporter** - アプリメトリクス公開
- **アラートルール** - AlertManager 設定

### 2. ログシステム

- **収集** - Filebeat、Fluentd
- **ストレージ** - Elasticsearch
- **表示** - Kibana

### 3. 可視化

- **Grafana** - ダッシュボード設計
- **Panel** - グラフタイプ
- **変数** - 動的フィルタリング

## 核心メトリクス

| メトリクスタイプ | 例 | 用途 |
|---------|------|------|
| RED | Rate/Error/Duration | サービス監視 |
| USE | Utilization/Saturation/Errors | リソース監視 |
| Four Golden | レイテンシ/トラフィック/エラー/飽和度 | SRE 実践 |

## ベストプラクティス

1. **階層監視** - インフラ、アプリ、ビジネス
2. **アラートレベル** - P0-P4 アラートレベル
3. **Runbook** - アラート対応マニュアル
4. **定期訓練** - 監視有効性を検証

{
  "meta": {
    "title": "GitHub Actions",
    "description": "GitHub Actions CI/CD ワークフロー、自動化ビルドとデプロイ",
    "order": 1,
    "tags": ["GitHub Actions", "CI/CD", "自動化"]
  },
  "sections": [
    {
      "type": "keyPoints",
      "title": "コアコンセプト",
      "items": [
        "GitHub Actions は GitHub 提供の CI/CD プラットフォーム",
        "Workflow -> Job -> Step 階層構造",
        "イベント駆動：push/PR/schedule/手動トリガー",
        "マトリックスビルドで複数環境の並列テストをサポート"
      ]
    },
    {
      "type": "cards",
      "title": "コアコンポーネント",
      "layout": "grid",
      "columns": 3,
      "items": [
        {
          "title": "Workflow",
          "badge": "ワークフロー",
          "badgeColor": "blue",
          "points": [
            "YAML 設定ファイル",
            ".github/workflows/",
            "イベントトリガー"
          ]
        },
        {
          "title": "Job",
          "badge": "ジョブ",
          "badgeColor": "green",
          "points": [
            "Runner 上で実行",
            "依存関係を定義可能",
            "並列/順次実行"
          ]
        },
        {
          "title": "Step",
          "badge": "ステップ",
          "badgeColor": "purple",
          "points": [
            "単一コマンド/Action",
            "順次実行",
            "環境を共有"
          ]
        }
      ]
    },
    {
      "type": "codeBlock",
      "title": "基本ワークフロー",
      "language": "yaml",
      "code": "name: CI\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.21'\n      - run: go test -v ./..."
    },
    {
      "type": "codeBlock",
      "title": "マトリックスビルド",
      "language": "yaml",
      "code": "jobs:\n  test:\n    runs-on: ${{ matrix.os }}\n    strategy:\n      matrix:\n        os: [ubuntu-latest, macos-latest]\n        go-version: ['1.20', '1.21']\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: ${{ matrix.go-version }}\n      - run: go test ./..."
    },
    {
      "type": "table",
      "title": "よく使うトリガー",
      "highlightFirst": true,
      "headers": ["イベント", "設定", "用途"],
      "rows": [
        ["push", "branches: [main]", "コードプッシュ"],
        ["pull_request", "types: [opened]", "PR イベント"],
        ["schedule", "cron: '0 0 * * *'", "定時トリガー"],
        ["workflow_dispatch", "inputs: {...}", "手動トリガー"]
      ]
    },
    {
      "type": "codeBlock",
      "title": "Docker ビルド＆プッシュ",
      "language": "yaml",
      "code": "- uses: docker/setup-buildx-action@v3\n\n- uses: docker/login-action@v3\n  with:\n    username: ${{ secrets.DOCKER_USERNAME }}\n    password: ${{ secrets.DOCKER_PASSWORD }}\n\n- uses: docker/build-push-action@v5\n  with:\n    context: .\n    push: true\n    tags: user/app:latest\n    cache-from: type=gha\n    cache-to: type=gha,mode=max"
    },
    {
      "type": "list",
      "title": "ベストプラクティス",
      "style": "check",
      "items": [
        { "label": "キャッシュ活用", "description": "actions/cache でビルド高速化" },
        { "label": "シークレット管理", "description": "secrets で機密情報を保存" },
        { "label": "再利用可能ワークフロー", "description": "workflow_call でテンプレート化" },
        { "label": "マトリックスビルド", "description": "複数環境での並列テスト" }
      ]
    }
  ],
  "relatedTopics": ["Jenkins", "Docker", "Git"]
}

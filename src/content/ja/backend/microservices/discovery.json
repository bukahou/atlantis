{
  "meta": {
    "title": "サービスディスカバリ",
    "description": "サービス登録、発見とロードバランシング",
    "order": 2,
    "tags": ["マイクロサービス", "サービスディスカバリ", "ロードバランシング"]
  },
  "sections": [
    {
      "type": "keyPoints",
      "title": "コアコンセプト",
      "items": [
        "サービス登録：サービス起動時にレジストリに登録",
        "サービス発見：クライアントがレジストリからサービスアドレスを取得",
        "ヘルスチェック：定期的にサービスの可用性を検出",
        "ロードバランシング：リクエストを複数インスタンスに分散"
      ]
    },
    {
      "type": "comparison",
      "title": "発見モード",
      "columns": [
        {
          "title": "クライアントサイド発見",
          "color": "from-blue-500 to-cyan-500",
          "items": [
            { "label": "方式", "description": "クライアントがレジストリをクエリ" },
            { "label": "ロードバランシング", "description": "クライアント側で実装" },
            { "label": "代表例", "description": "Eureka, Consul" }
          ]
        },
        {
          "title": "サーバーサイド発見",
          "color": "from-green-500 to-emerald-500",
          "items": [
            { "label": "方式", "description": "ロードバランサー経由" },
            { "label": "ロードバランシング", "description": "プロキシ層で実装" },
            { "label": "代表例", "description": "Kubernetes, AWS ELB" }
          ]
        }
      ]
    },
    {
      "type": "cards",
      "title": "主要ソリューション",
      "layout": "grid",
      "columns": 3,
      "items": [
        {
          "title": "Consul",
          "badge": "HashiCorp",
          "badgeColor": "red",
          "points": [
            "サービス発見 + KV ストア",
            "ヘルスチェック",
            "マルチデータセンター"
          ]
        },
        {
          "title": "Nacos",
          "badge": "Alibaba",
          "badgeColor": "blue",
          "points": [
            "サービス発見 + 設定管理",
            "動的 DNS",
            "トラフィック管理"
          ]
        },
        {
          "title": "etcd",
          "badge": "CNCF",
          "badgeColor": "cyan",
          "points": [
            "分散 KV ストア",
            "Kubernetes コア",
            "強い一貫性"
          ]
        }
      ]
    },
    {
      "type": "flow",
      "title": "サービス登録フロー",
      "direction": "horizontal",
      "steps": [
        { "label": "サービス起動", "description": "初期化", "color": "bg-gray-500" },
        { "label": "登録", "description": "アドレス報告", "color": "bg-blue-500" },
        { "label": "ハートビート", "description": "アクティブ維持", "color": "bg-green-500" },
        { "label": "発見", "description": "リスト取得", "color": "bg-amber-500" },
        { "label": "呼び出し", "description": "ロードバランシング", "color": "bg-purple-500" }
      ]
    },
    {
      "type": "list",
      "title": "ベストプラクティス",
      "style": "check",
      "items": [
        { "label": "ヘルスチェック", "description": "適切なチェック間隔とタイムアウトを設定" },
        { "label": "グレースフルシャットダウン", "description": "サービス停止前にレジストリから登録解除" },
        { "label": "ローカルキャッシュ", "description": "サービスリストをキャッシュし、レジストリ障害の影響を回避" },
        { "label": "マルチレジストリ", "description": "リージョン間デプロイで可用性向上" }
      ]
    }
  ],
  "relatedTopics": ["マイクロサービス", "ロードバランシング", "Kubernetes"]
}

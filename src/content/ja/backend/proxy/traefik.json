{
  "meta": {
    "title": "Traefik",
    "description": "クラウドネイティブエッジルーターとリバースプロキシ",
    "order": 2,
    "tags": ["Traefik", "クラウドネイティブ", "Kubernetes", "Docker"]
  },
  "sections": [
    {
      "type": "keyPoints",
      "title": "コアコンセプト",
      "items": [
        "自動サービス検出：Docker、K8s、Consul などと連携",
        "動的設定：再起動なしでルーティング更新",
        "自動 HTTPS：Let's Encrypt 統合",
        "豊富なミドルウェア：認証、レート制限、リトライなど"
      ]
    },
    {
      "type": "text",
      "title": "Traefik 概要",
      "content": "Traefik はマイクロサービスとコンテナ化環境向けに設計されたモダンなクラウドネイティブエッジルーターです。サービスを自動検出し、動的にルーティング設定を更新できるため、Docker と Kubernetes 環境に最適です。Traefik は Let's Encrypt を内蔵しており、SSL 証明書を自動的に取得・更新できます。"
    },
    {
      "type": "codeBlock",
      "title": "Docker 環境設定",
      "language": "yaml",
      "code": "# docker-compose.yml\nversion: '3'\n\nservices:\n  traefik:\n    image: traefik:v3.0\n    command:\n      - \"--api.dashboard=true\"\n      - \"--providers.docker=true\"\n      - \"--providers.docker.exposedbydefault=false\"\n      - \"--entrypoints.web.address=:80\"\n      - \"--entrypoints.websecure.address=:443\"\n      - \"--certificatesresolvers.letsencrypt.acme.email=admin@example.com\"\n      - \"--certificatesresolvers.letsencrypt.acme.storage=/letsencrypt/acme.json\"\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock:ro\n      - ./letsencrypt:/letsencrypt"
    },
    {
      "type": "cards",
      "title": "コア機能",
      "layout": "grid",
      "columns": 2,
      "items": [
        {
          "title": "サービス検出",
          "badge": "コア",
          "badgeColor": "blue",
          "points": [
            "Docker ラベル検出",
            "Kubernetes Ingress",
            "Consul/etcd 統合",
            "ファイル設定プロバイダー"
          ]
        },
        {
          "title": "ミドルウェア",
          "badge": "機能",
          "badgeColor": "green",
          "points": [
            "BasicAuth/DigestAuth",
            "RateLimit レート制限",
            "Retry リトライ",
            "CircuitBreaker サーキットブレーカー"
          ]
        },
        {
          "title": "ルーティングルール",
          "badge": "ルーティング",
          "badgeColor": "purple",
          "points": [
            "Host ドメインマッチ",
            "Path パスマッチ",
            "Headers ヘッダーマッチ",
            "Query パラメータマッチ"
          ]
        },
        {
          "title": "可観測性",
          "badge": "監視",
          "badgeColor": "amber",
          "points": [
            "Dashboard 可視化",
            "Prometheus メトリクス",
            "Jaeger/Zipkin トレーシング",
            "アクセスログ"
          ]
        }
      ]
    },
    {
      "type": "list",
      "title": "ユースケース",
      "style": "check",
      "items": [
        { "label": "Docker Compose", "description": "コンテナラベルで自動ルーティング設定" },
        { "label": "Kubernetes", "description": "Nginx Ingress Controller の代替" },
        { "label": "マイクロサービスゲートウェイ", "description": "統一エントリー、認証、レート制限" },
        { "label": "マルチ環境デプロイ", "description": "開発/テスト/本番で統一設定" }
      ]
    }
  ],
  "relatedTopics": ["Kubernetes", "Docker", "サービスメッシュ"]
}

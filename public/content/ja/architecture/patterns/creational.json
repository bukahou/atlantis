{
  "slug": "creational",
  "meta": {
    "title": "生成パターン",
    "description": "シングルトン、ファクトリー、ビルダーなどのオブジェクト生成パターン",
    "order": 1,
    "tags": [
      "デザインパターン",
      "GoF",
      "オブジェクト生成"
    ]
  },
  "sections": [
    {
      "type": "keyPoints",
      "title": "コアコンセプト",
      "items": [
        "生成パターンはオブジェクトの作成メカニズムに焦点を当てる",
        "オブジェクトの作成と使用を分離し、柔軟性を向上",
        "5つの古典的パターン：シングルトン、ファクトリーメソッド、抽象ファクトリー、ビルダー、プロトタイプ"
      ]
    },
    {
      "type": "cards",
      "title": "パターン概要",
      "layout": "grid",
      "columns": 3,
      "items": [
        {
          "title": "シングルトン",
          "badge": "Singleton",
          "badgeColor": "blue",
          "points": [
            "グローバルな唯一インスタンス",
            "遅延初期化",
            "スレッドセーフ考慮"
          ]
        },
        {
          "title": "ファクトリーメソッド",
          "badge": "Factory",
          "badgeColor": "green",
          "points": [
            "作成インターフェース定義",
            "サブクラスがインスタンス化を決定",
            "具体クラスの分離"
          ]
        },
        {
          "title": "ビルダー",
          "badge": "Builder",
          "badgeColor": "purple",
          "points": [
            "複雑オブジェクトを段階構築",
            "同じ過程で異なる表現",
            "メソッドチェーン"
          ]
        }
      ]
    },
    {
      "type": "codeBlock",
      "title": "シングルトンパターン - Go 実装",
      "language": "go",
      "code": "package singleton\n\nimport \"sync\"\n\ntype Config struct {\n    Database string\n    Port     int\n}\n\nvar (\n    instance *Config\n    once     sync.Once\n)\n\n// GetInstance ダブルチェックロッキング\nfunc GetInstance() *Config {\n    once.Do(func() {\n        instance = &Config{\n            Database: \"localhost\",\n            Port:     3306,\n        }\n    })\n    return instance\n}"
    },
    {
      "type": "codeBlock",
      "title": "ファクトリーメソッド - TypeScript 実装",
      "language": "typescript",
      "code": "// プロダクトインターフェース\ninterface Logger {\n  log(message: string): void;\n}\n\n// 具体プロダクト\nclass ConsoleLogger implements Logger {\n  log(message: string) {\n    console.log(`[Console] ${message}`);\n  }\n}\n\nclass FileLogger implements Logger {\n  log(message: string) {\n    // ファイルに書き込み\n  }\n}\n\n// ファクトリー\nclass LoggerFactory {\n  static create(type: 'console' | 'file'): Logger {\n    switch (type) {\n      case 'console': return new ConsoleLogger();\n      case 'file': return new FileLogger();\n    }\n  }\n}\n\n// 使用例\nconst logger = LoggerFactory.create('console');"
    },
    {
      "type": "codeBlock",
      "title": "ビルダーパターン - Java 実装",
      "language": "java",
      "code": "public class HttpRequest {\n    private final String url;\n    private final String method;\n    private final Map<String, String> headers;\n    private final String body;\n    \n    private HttpRequest(Builder builder) {\n        this.url = builder.url;\n        this.method = builder.method;\n        this.headers = builder.headers;\n        this.body = builder.body;\n    }\n    \n    public static class Builder {\n        private String url;\n        private String method = \"GET\";\n        private Map<String, String> headers = new HashMap<>();\n        private String body;\n        \n        public Builder url(String url) {\n            this.url = url;\n            return this;\n        }\n        \n        public Builder header(String key, String value) {\n            headers.put(key, value);\n            return this;\n        }\n        \n        public HttpRequest build() {\n            return new HttpRequest(this);\n        }\n    }\n}\n\n// 使用例\nHttpRequest request = new HttpRequest.Builder()\n    .url(\"https://api.example.com\")\n    .header(\"Authorization\", \"Bearer token\")\n    .build();"
    },
    {
      "type": "table",
      "title": "パターン比較",
      "highlightFirst": true,
      "headers": [
        "パターン",
        "目的",
        "適用場面"
      ],
      "rows": [
        [
          "シングルトン",
          "唯一インスタンスを保証",
          "設定管理、接続プール"
        ],
        [
          "ファクトリーメソッド",
          "サブクラスに生成を委譲",
          "フレームワーク拡張点"
        ],
        [
          "抽象ファクトリー",
          "製品ファミリーを生成",
          "クロスプラットフォームUI"
        ],
        [
          "ビルダー",
          "段階的に構築",
          "複雑オブジェクト初期化"
        ],
        [
          "プロトタイプ",
          "オブジェクトを複製",
          "オブジェクトプール、キャッシュ"
        ]
      ]
    },
    {
      "type": "list",
      "title": "使用上の注意",
      "style": "check",
      "items": [
        {
          "label": "シングルトンは慎重に",
          "description": "密結合を招く可能性あり、DIを優先検討"
        },
        {
          "label": "ファクトリーメソッド",
          "description": "製品の作成方法から独立させたい場合に使用"
        },
        {
          "label": "ビルダー",
          "description": "コンストラクタ引数が4つ以上の場合に検討"
        },
        {
          "label": "プロトタイプ",
          "description": "生成コストがクローンコストより高い場合に使用"
        }
      ]
    }
  ],
  "relatedTopics": [
    "SOLID",
    "依存性注入",
    "オブジェクト指向"
  ]
}
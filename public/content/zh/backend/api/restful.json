{
  "slug": "restful",
  "meta": {
    "title": "RESTful API 设计",
    "description": "REST 架构风格与 API 设计最佳实践",
    "order": 1,
    "tags": [
      "API",
      "REST",
      "后端"
    ]
  },
  "sections": [
    {
      "type": "keyPoints",
      "title": "核心概念",
      "items": [
        "REST 是一种架构风格，不是协议",
        "资源通过 URI 标识，方法表示操作",
        "无状态、统一接口、可缓存",
        "HTTP 状态码表示操作结果"
      ]
    },
    {
      "type": "table",
      "title": "HTTP 方法语义",
      "highlightFirst": true,
      "headers": [
        "方法",
        "操作",
        "幂等",
        "示例"
      ],
      "rows": [
        [
          "GET",
          "读取资源",
          "是",
          "GET /users/123"
        ],
        [
          "POST",
          "创建资源",
          "否",
          "POST /users"
        ],
        [
          "PUT",
          "替换资源",
          "是",
          "PUT /users/123"
        ],
        [
          "PATCH",
          "部分更新",
          "否",
          "PATCH /users/123"
        ],
        [
          "DELETE",
          "删除资源",
          "是",
          "DELETE /users/123"
        ]
      ]
    },
    {
      "type": "codeBlock",
      "title": "URI 设计规范",
      "language": "text",
      "code": "# 资源命名（名词复数）\nGET    /users              # 用户列表\nGET    /users/123          # 单个用户\nPOST   /users              # 创建用户\nPUT    /users/123          # 更新用户\nDELETE /users/123          # 删除用户\n\n# 嵌套资源\nGET    /users/123/orders   # 用户的订单\nGET    /users/123/orders/456\n\n# 查询参数\nGET    /users?status=active&page=1&limit=20\nGET    /users?sort=-created_at\nGET    /users?fields=id,name,email"
    },
    {
      "type": "cards",
      "title": "响应设计",
      "layout": "grid",
      "columns": 2,
      "items": [
        {
          "title": "成功响应",
          "badge": "2xx",
          "badgeColor": "green",
          "points": [
            "200 OK - 成功",
            "201 Created - 已创建",
            "204 No Content - 无内容"
          ]
        },
        {
          "title": "客户端错误",
          "badge": "4xx",
          "badgeColor": "amber",
          "points": [
            "400 Bad Request",
            "401 Unauthorized",
            "403 Forbidden",
            "404 Not Found"
          ]
        },
        {
          "title": "服务端错误",
          "badge": "5xx",
          "badgeColor": "red",
          "points": [
            "500 Internal Error",
            "502 Bad Gateway",
            "503 Service Unavailable"
          ]
        },
        {
          "title": "响应格式",
          "badge": "JSON",
          "badgeColor": "blue",
          "points": [
            "统一响应结构",
            "错误信息详细",
            "HATEOAS 链接"
          ]
        }
      ]
    },
    {
      "type": "codeBlock",
      "title": "统一响应格式",
      "language": "json",
      "code": "// 成功响应\n{\n  \"data\": {\n    \"id\": 123,\n    \"name\": \"John\",\n    \"email\": \"john@example.com\"\n  },\n  \"meta\": {\n    \"timestamp\": \"2024-01-01T00:00:00Z\"\n  }\n}\n\n// 列表响应\n{\n  \"data\": [...],\n  \"meta\": {\n    \"total\": 100,\n    \"page\": 1,\n    \"limit\": 20\n  }\n}\n\n// 错误响应\n{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Invalid input\",\n    \"details\": [\n      { \"field\": \"email\", \"message\": \"Invalid email format\" }\n    ]\n  }\n}"
    },
    {
      "type": "list",
      "title": "最佳实践",
      "style": "check",
      "items": [
        {
          "label": "版本控制",
          "description": "URI 或 Header 中包含 API 版本 /v1/users"
        },
        {
          "label": "分页",
          "description": "大列表必须分页，返回总数和链接"
        },
        {
          "label": "过滤排序",
          "description": "支持查询参数过滤和排序"
        },
        {
          "label": "HATEOAS",
          "description": "响应中包含相关资源链接"
        },
        {
          "label": "限流",
          "description": "实施请求限流，返回 429 状态码"
        }
      ]
    }
  ],
  "relatedTopics": [
    "GraphQL",
    "gRPC",
    "API 网关"
  ]
}
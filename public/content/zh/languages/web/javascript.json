{
  "slug": "javascript",
  "meta": {
    "title": "JavaScript 语言基础",
    "description": "JavaScript 核心语法、ES6+ 特性与异步编程",
    "order": 2,
    "tags": [
      "javascript",
      "web",
      "frontend",
      "dynamic"
    ]
  },
  "content": "<h1>JavaScript 语言基础</h1>\n<h2>JavaScript 概述</h2>\n<p>JavaScript 是 Web 开发的核心语言，支持面向对象、函数式和事件驱动编程范式，运行于浏览器和 Node.js 环境。</p>\n<pre><code>JavaScript 特点\n├── 动态类型 - 运行时类型检查\n├── 原型继承 - 基于原型的对象系统\n├── 事件驱动 - 异步非阻塞模型\n├── 跨平台 - 浏览器 + Node.js\n└── 生态丰富 - npm 最大的包生态\n</code></pre>\n<h2>基础语法</h2>\n<h3>变量与数据类型</h3>\n<pre><code class=\"language-javascript\">// 变量声明\nvar oldStyle = \"避免使用\";\nlet mutable = \"可变\";\nconst immutable = \"不可变引用\";\n\n// 原始类型\nconst str = \"Hello\";           // String\nconst num = 42;                // Number\nconst bigInt = 9007199254740991n;  // BigInt\nconst bool = true;             // Boolean\nconst undef = undefined;       // Undefined\nconst nul = null;              // Null\nconst sym = Symbol(\"id\");      // Symbol\n\n// typeof 检查\ntypeof str;      // \"string\"\ntypeof num;      // \"number\"\ntypeof bool;     // \"boolean\"\ntypeof undef;    // \"undefined\"\ntypeof nul;      // \"object\" (历史遗留问题)\ntypeof sym;      // \"symbol\"\n\n// 类型转换\nString(42);      // \"42\"\nNumber(\"42\");    // 42\nBoolean(0);      // false\nparseInt(\"42px\"); // 42\nparseFloat(\"3.14\"); // 3.14\n</code></pre>\n<h3>字符串</h3>\n<pre><code class=\"language-javascript\">// 模板字符串\nconst name = \"World\";\nconst greeting = `Hello, ${name}!`;\nconst multiline = `\n  Line 1\n  Line 2\n`;\n\n// 字符串方法\nstr.length;\nstr.charAt(0);\nstr.includes(\"ll\");\nstr.startsWith(\"He\");\nstr.endsWith(\"lo\");\nstr.indexOf(\"l\");\nstr.slice(0, 5);\nstr.split(\",\");\nstr.trim();\nstr.padStart(10, \"0\");\nstr.repeat(3);\nstr.replace(\"old\", \"new\");\nstr.replaceAll(\"a\", \"b\");\nstr.toLowerCase();\nstr.toUpperCase();\n</code></pre>\n<h3>数组</h3>\n<pre><code class=\"language-javascript\">// 创建数组\nconst arr = [1, 2, 3, 4, 5];\nconst arr2 = Array.from(\"hello\");\nconst arr3 = Array.of(1, 2, 3);\nconst arr4 = new Array(5).fill(0);\n\n// 数组方法\narr.push(6);           // 末尾添加\narr.pop();             // 末尾删除\narr.unshift(0);        // 开头添加\narr.shift();           // 开头删除\narr.splice(1, 2);      // 删除/插入\narr.slice(1, 3);       // 切片\narr.concat([6, 7]);    // 合并\narr.includes(3);       // 包含\narr.indexOf(3);        // 索引\narr.find(x => x > 2);  // 查找\narr.findIndex(x => x > 2);\n\n// 迭代方法\narr.forEach(x => console.log(x));\narr.map(x => x * 2);\narr.filter(x => x > 2);\narr.reduce((acc, x) => acc + x, 0);\narr.some(x => x > 3);\narr.every(x => x > 0);\narr.flat();\narr.flatMap(x => [x, x * 2]);\n\n// 排序\narr.sort((a, b) => a - b);\narr.reverse();\n\n// 扩展运算符\nconst newArr = [...arr, 6, 7];\nconst [first, ...rest] = arr;\n</code></pre>\n<h3>对象</h3>\n<pre><code class=\"language-javascript\">// 对象创建\nconst obj = {\n    name: \"Alice\",\n    age: 30,\n    greet() {\n        return `Hello, ${this.name}`;\n    }\n};\n\n// 属性访问\nobj.name;\nobj[\"name\"];\nobj?.address?.city;  // 可选链\n\n// 属性操作\nobj.email = \"alice@example.com\";\ndelete obj.age;\n\"name\" in obj;\nObject.keys(obj);\nObject.values(obj);\nObject.entries(obj);\n\n// 对象方法\nObject.assign({}, obj, { age: 31 });\nObject.freeze(obj);     // 不可修改\nObject.seal(obj);       // 不可添加删除\nObject.getOwnPropertyNames(obj);\n\n// 扩展运算符\nconst newObj = { ...obj, age: 31 };\nconst { name, ...rest } = obj;\n\n// 计算属性名\nconst key = \"dynamicKey\";\nconst dynamic = { [key]: \"value\" };\n\n// 简写\nconst x = 1, y = 2;\nconst point = { x, y };  // { x: 1, y: 2 }\n</code></pre>\n<h2>函数</h2>\n<h3>函数声明</h3>\n<pre><code class=\"language-javascript\">// 函数声明\nfunction add(a, b) {\n    return a + b;\n}\n\n// 函数表达式\nconst multiply = function(a, b) {\n    return a * b;\n};\n\n// 箭头函数\nconst subtract = (a, b) => a - b;\nconst square = x => x * x;\nconst greet = () => \"Hello\";\n\n// 默认参数\nfunction greet(name = \"World\") {\n    return `Hello, ${name}!`;\n}\n\n// 剩余参数\nfunction sum(...numbers) {\n    return numbers.reduce((a, b) => a + b, 0);\n}\n\n// 解构参数\nfunction createUser({ name, age, role = \"user\" }) {\n    return { name, age, role };\n}\n</code></pre>\n<h3>高阶函数</h3>\n<pre><code class=\"language-javascript\">// 函数作为参数\nfunction map(arr, fn) {\n    return arr.map(fn);\n}\n\n// 函数作为返回值\nfunction multiplier(factor) {\n    return x => x * factor;\n}\n\nconst double = multiplier(2);\ndouble(5);  // 10\n\n// 闭包\nfunction counter() {\n    let count = 0;\n    return {\n        increment: () => ++count,\n        decrement: () => --count,\n        get: () => count\n    };\n}\n\n// 柯里化\nconst curry = fn => a => b => fn(a, b);\nconst curriedAdd = curry((a, b) => a + b);\ncurriedAdd(1)(2);  // 3\n\n// 组合\nconst compose = (...fns) => x =>\n    fns.reduceRight((acc, fn) => fn(acc), x);\n</code></pre>\n<h2>类与原型</h2>\n<h3>ES6 类</h3>\n<pre><code class=\"language-javascript\">class Person {\n    // 私有字段\n    #secret = \"hidden\";\n\n    // 静态属性\n    static count = 0;\n\n    constructor(name, age) {\n        this.name = name;\n        this.age = age;\n        Person.count++;\n    }\n\n    // 方法\n    greet() {\n        return `Hello, I'm ${this.name}`;\n    }\n\n    // getter/setter\n    get info() {\n        return `${this.name}, ${this.age}`;\n    }\n\n    set info(value) {\n        [this.name, this.age] = value.split(\",\");\n    }\n\n    // 静态方法\n    static create(name, age) {\n        return new Person(name, age);\n    }\n}\n\n// 继承\nclass Employee extends Person {\n    constructor(name, age, department) {\n        super(name, age);\n        this.department = department;\n    }\n\n    greet() {\n        return `${super.greet()}, from ${this.department}`;\n    }\n}\n</code></pre>\n<h3>原型</h3>\n<pre><code class=\"language-javascript\">// 原型链\nfunction Animal(name) {\n    this.name = name;\n}\n\nAnimal.prototype.speak = function() {\n    console.log(`${this.name} makes a sound`);\n};\n\n// 原型继承\nfunction Dog(name, breed) {\n    Animal.call(this, name);\n    this.breed = breed;\n}\n\nDog.prototype = Object.create(Animal.prototype);\nDog.prototype.constructor = Dog;\n\n// 原型方法\nObject.getPrototypeOf(obj);\nObject.setPrototypeOf(obj, proto);\nobj.hasOwnProperty(\"name\");\n</code></pre>\n<h2>异步编程</h2>\n<h3>Promise</h3>\n<pre><code class=\"language-javascript\">// 创建 Promise\nconst promise = new Promise((resolve, reject) => {\n    setTimeout(() => {\n        resolve(\"Success\");\n        // reject(new Error(\"Failed\"));\n    }, 1000);\n});\n\n// Promise 链\npromise\n    .then(result => {\n        console.log(result);\n        return \"Next\";\n    })\n    .then(result => console.log(result))\n    .catch(error => console.error(error))\n    .finally(() => console.log(\"Done\"));\n\n// Promise 静态方法\nPromise.all([p1, p2, p3]);        // 全部成功\nPromise.allSettled([p1, p2]);     // 全部完成\nPromise.race([p1, p2]);           // 第一个完成\nPromise.any([p1, p2]);            // 第一个成功\n\n// 创建已解决的 Promise\nPromise.resolve(\"value\");\nPromise.reject(new Error(\"error\"));\n</code></pre>\n<h3>async/await</h3>\n<pre><code class=\"language-javascript\">// async 函数\nasync function fetchData() {\n    try {\n        const response = await fetch(\"/api/data\");\n        const data = await response.json();\n        return data;\n    } catch (error) {\n        console.error(\"Error:\", error);\n        throw error;\n    }\n}\n\n// 并行执行\nasync function parallel() {\n    const [result1, result2] = await Promise.all([\n        fetchData1(),\n        fetchData2()\n    ]);\n    return { result1, result2 };\n}\n\n// 顺序执行\nasync function sequential() {\n    const result1 = await fetchData1();\n    const result2 = await fetchData2(result1);\n    return result2;\n}\n\n// 错误处理\nasync function withErrorHandling() {\n    const result = await fetchData().catch(e => null);\n    return result ?? \"default\";\n}\n</code></pre>\n<h3>事件循环</h3>\n<pre><code class=\"language-javascript\">// 宏任务 vs 微任务\nconsole.log(\"1\");\n\nsetTimeout(() => console.log(\"2\"), 0);  // 宏任务\n\nPromise.resolve().then(() => console.log(\"3\"));  // 微任务\n\nconsole.log(\"4\");\n\n// 输出: 1, 4, 3, 2\n\n// queueMicrotask\nqueueMicrotask(() => {\n    console.log(\"Microtask\");\n});\n</code></pre>\n<h2>模块系统</h2>\n<h3>ES Modules</h3>\n<pre><code class=\"language-javascript\">// 导出\nexport const VERSION = \"1.0.0\";\nexport function helper() { }\nexport class Utils { }\nexport default class App { }\n\n// 命名导出\nexport { a, b, c };\nexport { original as renamed };\n\n// 导入\nimport App from \"./app.js\";\nimport { helper, Utils } from \"./utils.js\";\nimport * as Utils from \"./utils.js\";\nimport { original as renamed } from \"./module.js\";\n\n// 动态导入\nconst module = await import(\"./module.js\");\n\n// 重新导出\nexport { default } from \"./module.js\";\nexport * from \"./utils.js\";\n</code></pre>\n<h2>ES6+ 新特性</h2>\n<h3>解构赋值</h3>\n<pre><code class=\"language-javascript\">// 数组解构\nconst [a, b, c] = [1, 2, 3];\nconst [first, ...rest] = [1, 2, 3, 4];\nconst [x = 0, y = 0] = [1];\n\n// 对象解构\nconst { name, age } = user;\nconst { name: userName, age: userAge } = user;\nconst { address: { city } = {} } = user;\n\n// 函数参数解构\nfunction process({ name, options = {} }) {\n    console.log(name, options);\n}\n</code></pre>\n<h3>迭代器与生成器</h3>\n<pre><code class=\"language-javascript\">// 迭代器\nconst iterable = {\n    [Symbol.iterator]() {\n        let i = 0;\n        return {\n            next() {\n                return i &#x3C; 3\n                    ? { value: i++, done: false }\n                    : { done: true };\n            }\n        };\n    }\n};\n\n// 生成器\nfunction* generator() {\n    yield 1;\n    yield 2;\n    yield 3;\n}\n\n// 异步生成器\nasync function* asyncGenerator() {\n    yield await fetchData1();\n    yield await fetchData2();\n}\n\nfor await (const data of asyncGenerator()) {\n    console.log(data);\n}\n</code></pre>\n<h3>代理与反射</h3>\n<pre><code class=\"language-javascript\">// Proxy\nconst handler = {\n    get(target, prop) {\n        console.log(`Getting ${prop}`);\n        return target[prop];\n    },\n    set(target, prop, value) {\n        console.log(`Setting ${prop} = ${value}`);\n        target[prop] = value;\n        return true;\n    }\n};\n\nconst proxy = new Proxy({}, handler);\n\n// Reflect\nReflect.get(obj, \"name\");\nReflect.set(obj, \"name\", \"Alice\");\nReflect.has(obj, \"name\");\nReflect.deleteProperty(obj, \"name\");\n</code></pre>\n<h3>其他特性</h3>\n<pre><code class=\"language-javascript\">// 可选链\nobj?.property;\nobj?.[expression];\nobj?.method?.();\n\n// 空值合并\nconst value = null ?? \"default\";\n\n// 逻辑赋值\nx ||= y;  // x = x || y\nx &#x26;&#x26;= y;  // x = x &#x26;&#x26; y\nx ??= y;  // x = x ?? y\n\n// 数组 at()\narr.at(-1);  // 最后一个元素\n\n// Object.fromEntries\nObject.fromEntries([[\"a\", 1], [\"b\", 2]]);\n\n// 数字分隔符\nconst billion = 1_000_000_000;\n</code></pre>\n<h2>总结</h2>\n<p>JavaScript 核心要点：</p>\n<ol>\n<li><strong>动态类型</strong> - 灵活但需注意类型转换</li>\n<li><strong>原型继承</strong> - 独特的对象系统</li>\n<li><strong>异步编程</strong> - Promise + async/await</li>\n<li><strong>函数式</strong> - 高阶函数、闭包</li>\n<li><strong>持续进化</strong> - 每年新特性 (ES6+)</li>\n</ol>\n"
}